import{_ as X,r as b,c as S,a as p,o as u,b as a,d as t,w as l,e as n,A as Y,F as y,B as g,h as _,x as f,z as m,M as T,u as h,f as Z,v as $,k as ee,i as M,q as le,p as te,t as ae,I as V}from"./index-DBLKM03n.js";const oe={class:"competitor-analysis"},se={class:"company-selection"},ne={class:"company-option"},ie={class:"company-info"},ue={class:"company-name"},ce={class:"company-desc"},re={class:"qualification-option"},de={key:0,class:"analysis-results"},pe={class:"qualification-cell"},_e={class:"info-content"},fe={class:"statistics"},me={class:"legend"},ve={class:"legend-item"},be={class:"legend-item"},ye={__name:"CompetitorAnalysis",setup(ge){const i=b({companies:[],qualifications:[]}),w=b(!1),A=[{label:"企业A",value:"company_a",logo:"",description:"专注于人工智能领域"},{label:"企业B",value:"company_b",logo:"",description:"大数据解决方案提供商"},{label:"企业C",value:"company_c",logo:"",description:"云计算服务商"},{label:"企业D",value:"company_d",logo:"",description:"物联网技术公司"}],B=[{label:"营业执照",value:"business_license",type:"basic"},{label:"CMMI认证",value:"cmmi",type:"capability"},{label:"ISO认证",value:"iso",type:"capability"},{label:"发明专利",value:"invention_patent",type:"patent"},{label:"软件著作权",value:"software_copyright",type:"software"}],U=S(()=>{const s={basic:{label:"基础资质",options:[]},capability:{label:"能力资质",options:[]},patent:{label:"专利",options:[]},software:{label:"软著",options:[]}};return B.forEach(e=>{s[e.type]&&s[e.type].options.push(e)}),Object.values(s)}),C=b(!1),E=S(()=>i.value.companies.length>0&&i.value.companies.length<=5&&i.value.qualifications.length>0),j=s=>{const e=A.find(r=>r.value===s);return e?e.label:s},z=s=>({basic:M,capability:ae,patent:te,software:le})[s]||M,F=s=>({basic:"#67C23A",capability:"#E6A23C",patent:"#909399",software:"#409EFF"})[s]||"#909399",I=b([]),G=async()=>{if(!E.value){V.warning("请选择1-5家企业并至少选择一项资质");return}w.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),I.value=i.value.qualifications.map(s=>{const e=B.find(d=>d.value===s),r={qualification:(e==null?void 0:e.label)||s,type:(e==null?void 0:e.type)||"basic"};return i.value.companies.forEach(d=>{r[d]=Math.random()>.5}),r}),C.value=!0,V.success("分析报告生成成功")}catch{V.error("生成报告失败，请重试")}finally{w.value=!1}},L=()=>{i.value={companies:[],qualifications:[]},C.value=!1};return(s,e)=>{const r=n("el-avatar"),d=n("el-option"),N=n("el-select"),k=n("el-form-item"),v=n("el-icon"),P=n("el-option-group"),O=n("el-button"),H=n("el-form"),q=n("el-table-column"),x=n("el-tag"),J=n("el-table"),D=n("el-card"),Q=n("el-col"),K=n("el-alert"),R=n("el-statistic"),W=n("el-row");return u(),p("div",oe,[e[11]||(e[11]=a("div",{class:"page-header"},[a("h1",null,"竞对分析工具"),a("p",null,"快速分析竞争对手的资质情况，助力企业决策")],-1)),t(W,{gutter:20},{default:l(()=>[t(Q,{span:16},{default:l(()=>[t(D,{class:"analysis-card",shadow:"hover"},{default:l(()=>[a("div",se,[t(H,{model:i.value,"label-width":"120px"},{default:l(()=>[t(k,{label:"选择企业"},{default:l(()=>[t(N,{modelValue:i.value.companies,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value.companies=o),multiple:"",filterable:"",placeholder:"请选择企业",style:{width:"100%"},"popper-class":"company-select-dropdown"},{default:l(()=>[(u(),p(y,null,g(A,o=>t(d,{key:o.value,label:o.label,value:o.value},{default:l(()=>[a("div",ne,[t(r,{size:32,src:o.logo},{default:l(()=>[_(f(o.label.charAt(0)),1)]),_:2},1032,["src"]),a("div",ie,[a("div",ue,f(o.label),1),a("div",ce,f(o.description),1)])])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(k,{label:"选择资质"},{default:l(()=>[t(N,{modelValue:i.value.qualifications,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value.qualifications=o),multiple:"",filterable:"",placeholder:"请选择资质",style:{width:"100%"}},{default:l(()=>[(u(!0),p(y,null,g(U.value,o=>(u(),m(P,{key:o.label,label:o.label},{default:l(()=>[(u(!0),p(y,null,g(o.options,c=>(u(),m(d,{key:c.value,label:c.label,value:c.value},{default:l(()=>[a("div",re,[t(v,{size:20,color:F(c.type)},{default:l(()=>[(u(),m(T(z(c.type))))]),_:2},1032,["color"]),a("span",null,f(c.label),1)])]),_:2},1032,["label","value"]))),128))]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(k,null,{default:l(()=>[t(O,{type:"primary",onClick:G,disabled:!E.value,loading:w.value,icon:h(Z)},{default:l(()=>e[2]||(e[2]=[_(" 生成分析报告 ")])),_:1,__:[2]},8,["disabled","loading","icon"]),t(O,{onClick:L,icon:h($)},{default:l(()=>e[3]||(e[3]=[_("重置")])),_:1,__:[3]},8,["icon"])]),_:1})]),_:1},8,["model"])]),C.value?(u(),p("div",de,[t(J,{data:I.value,border:"",style:{width:"100%"},"header-cell-style":{background:"#f5f7fa"}},{default:l(()=>[t(q,{prop:"qualification",label:"资质名称",width:"180",fixed:""},{default:l(o=>[a("div",pe,[t(v,{size:20,color:F(o.row.type)},{default:l(()=>[(u(),m(T(z(o.row.type))))]),_:2},1032,["color"]),a("span",null,f(o.row.qualification),1)])]),_:1}),(u(!0),p(y,null,g(i.value.companies,o=>(u(),m(q,{key:o,label:j(o),align:"center"},{default:l(c=>[t(x,{type:c.row[o]?"success":"danger",effect:"light",size:"large"},{default:l(()=>[_(f(c.row[o]?"有":"无"),1)]),_:2},1032,["type"])]),_:2},1032,["label"]))),128))]),_:1},8,["data"])])):Y("",!0)]),_:1})]),_:1}),t(Q,{span:8},{default:l(()=>[t(D,{class:"info-card",shadow:"hover"},{header:l(()=>e[4]||(e[4]=[a("div",{class:"card-header"},[a("h3",null,"分析说明")],-1)])),default:l(()=>[a("div",_e,[t(K,{title:"使用说明",type:"info",closable:!1,"show-icon":""},{default:l(()=>e[5]||(e[5]=[a("p",null,"1. 选择需要对比的企业（最多5家）",-1),a("p",null,"2. 选择需要分析的资质类型",-1),a("p",null,"3. 点击生成报告查看分析结果",-1)])),_:1,__:[5]}),a("div",fe,[t(R,{title:"已分析企业",value:i.value.companies.length},{suffix:l(()=>[t(v,null,{default:l(()=>[t(h(ee))]),_:1})]),_:1},8,["value"]),t(R,{title:"已选择资质",value:i.value.qualifications.length},{suffix:l(()=>[t(v,null,{default:l(()=>[t(h(M))]),_:1})]),_:1},8,["value"])]),a("div",me,[e[10]||(e[10]=a("h4",null,"图例说明",-1)),a("div",ve,[t(x,{type:"success",effect:"light"},{default:l(()=>e[6]||(e[6]=[_("有")])),_:1,__:[6]}),e[7]||(e[7]=a("span",null,"表示企业拥有该资质",-1))]),a("div",be,[t(x,{type:"danger",effect:"light"},{default:l(()=>e[8]||(e[8]=[_("无")])),_:1,__:[8]}),e[9]||(e[9]=a("span",null,"表示企业未获得该资质",-1))])])])]),_:1})]),_:1})]),_:1})])}}},we=X(ye,[["__scopeId","data-v-505acfbe"]]);export{we as default};
