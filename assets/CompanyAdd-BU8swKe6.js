import{_ as B,r as F,W as E,a as N,o as $,d as e,w as a,e as n,g as M,h as _,b,I as f,V as j}from"./index-DBLKM03n.js";const A={class:"company-add"},G={__name:"CompanyAdd",setup(I){const V=M(),p=F(null),v=[{value:"beijing",label:"北京市",children:[{value:"chaoyang",label:"朝阳区"},{value:"haidian",label:"海淀区"}]},{value:"shanghai",label:"上海市",children:[{value:"pudong",label:"浦东新区"},{value:"xuhui",label:"徐汇区"}]}],o=E({name:"",creditCode:"",region:[],type:"",legalPerson:"",registeredCapital:0,establishDate:"",businessTerm:[],businessScope:"",address:"",contact:"",phone:"",email:"",files:[]}),y={name:[{required:!0,message:"请输入企业名称",trigger:"blur"}],creditCode:[{required:!0,message:"请输入统一信用代码",trigger:"blur"}],region:[{required:!0,message:"请选择所属地区",trigger:"change"}],type:[{required:!0,message:"请选择企业类型",trigger:"change"}],legalPerson:[{required:!0,message:"请输入法定代表人",trigger:"blur"}],registeredCapital:[{required:!0,message:"请输入注册资本",trigger:"blur"}],establishDate:[{required:!0,message:"请选择成立日期",trigger:"change"}],businessTerm:[{required:!0,message:"请选择营业期限",trigger:"change"}],businessScope:[{required:!0,message:"请输入经营范围",trigger:"blur"}],address:[{required:!0,message:"请输入企业地址",trigger:"blur"}],contact:[{required:!0,message:"请输入联系人",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},h=s=>{console.log("预览文件：",s)},C=(s,l)=>{console.log("移除文件：",s)},q=s=>j.confirm(`确定移除 ${s.name}？`),U=(s,l)=>{f.warning(`当前限制选择 5 个文件，本次选择了 ${s.length} 个文件，共选择了 ${s.length+l.length} 个文件`)},x=async()=>{p.value&&await p.value.validate((s,l)=>{s?(console.log("提交表单：",o),f.success("提交成功"),V.push("/admin/company-list")):console.log("表单验证失败：",l)})},w=()=>{p.value&&p.value.resetFields()};return(s,l)=>{const d=n("el-input"),r=n("el-form-item"),u=n("el-col"),i=n("el-row"),P=n("el-cascader"),m=n("el-option"),k=n("el-select"),D=n("el-input-number"),c=n("el-date-picker"),g=n("el-button"),R=n("el-upload"),S=n("el-form"),T=n("el-card");return $(),N("div",A,[e(T,null,{header:a(()=>l[13]||(l[13]=[b("div",{class:"card-header"},[b("span",null,"新增企业")],-1)])),default:a(()=>[e(S,{model:o,rules:y,ref_key:"companyFormRef",ref:p,"label-width":"120px",class:"company-form"},{default:a(()=>[e(i,{gutter:20},{default:a(()=>[e(u,{span:12},{default:a(()=>[e(r,{label:"企业名称",prop:"name"},{default:a(()=>[e(d,{modelValue:o.name,"onUpdate:modelValue":l[0]||(l[0]=t=>o.name=t),placeholder:"请输入企业名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(r,{label:"统一信用代码",prop:"creditCode"},{default:a(()=>[e(d,{modelValue:o.creditCode,"onUpdate:modelValue":l[1]||(l[1]=t=>o.creditCode=t),placeholder:"请输入统一信用代码"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:a(()=>[e(u,{span:12},{default:a(()=>[e(r,{label:"所属地区",prop:"region"},{default:a(()=>[e(P,{modelValue:o.region,"onUpdate:modelValue":l[2]||(l[2]=t=>o.region=t),options:v,placeholder:"请选择所属地区"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(r,{label:"企业类型",prop:"type"},{default:a(()=>[e(k,{modelValue:o.type,"onUpdate:modelValue":l[3]||(l[3]=t=>o.type=t),placeholder:"请选择企业类型"},{default:a(()=>[e(m,{label:"有限责任公司",value:"limited"}),e(m,{label:"股份有限公司",value:"joint"}),e(m,{label:"个人独资企业",value:"personal"}),e(m,{label:"合伙企业",value:"partnership"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:a(()=>[e(u,{span:12},{default:a(()=>[e(r,{label:"法定代表人",prop:"legalPerson"},{default:a(()=>[e(d,{modelValue:o.legalPerson,"onUpdate:modelValue":l[4]||(l[4]=t=>o.legalPerson=t),placeholder:"请输入法定代表人"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(r,{label:"注册资本",prop:"registeredCapital"},{default:a(()=>[e(D,{modelValue:o.registeredCapital,"onUpdate:modelValue":l[5]||(l[5]=t=>o.registeredCapital=t),min:0,precision:2,step:100,placeholder:"请输入注册资本"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:a(()=>[e(u,{span:12},{default:a(()=>[e(r,{label:"成立日期",prop:"establishDate"},{default:a(()=>[e(c,{modelValue:o.establishDate,"onUpdate:modelValue":l[6]||(l[6]=t=>o.establishDate=t),type:"date",placeholder:"请选择成立日期"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(r,{label:"营业期限",prop:"businessTerm"},{default:a(()=>[e(c,{modelValue:o.businessTerm,"onUpdate:modelValue":l[7]||(l[7]=t=>o.businessTerm=t),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(r,{label:"经营范围",prop:"businessScope"},{default:a(()=>[e(d,{modelValue:o.businessScope,"onUpdate:modelValue":l[8]||(l[8]=t=>o.businessScope=t),type:"textarea",rows:3,placeholder:"请输入经营范围"},null,8,["modelValue"])]),_:1}),e(r,{label:"企业地址",prop:"address"},{default:a(()=>[e(d,{modelValue:o.address,"onUpdate:modelValue":l[9]||(l[9]=t=>o.address=t),type:"textarea",rows:2,placeholder:"请输入企业地址"},null,8,["modelValue"])]),_:1}),e(r,{label:"联系人",prop:"contact"},{default:a(()=>[e(d,{modelValue:o.contact,"onUpdate:modelValue":l[10]||(l[10]=t=>o.contact=t),placeholder:"请输入联系人"},null,8,["modelValue"])]),_:1}),e(r,{label:"联系电话",prop:"phone"},{default:a(()=>[e(d,{modelValue:o.phone,"onUpdate:modelValue":l[11]||(l[11]=t=>o.phone=t),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1}),e(r,{label:"电子邮箱",prop:"email"},{default:a(()=>[e(d,{modelValue:o.email,"onUpdate:modelValue":l[12]||(l[12]=t=>o.email=t),placeholder:"请输入电子邮箱"},null,8,["modelValue"])]),_:1}),e(r,{label:"企业资质",prop:"qualifications"},{default:a(()=>[e(R,{class:"upload-demo",action:"/api/upload","on-preview":h,"on-remove":C,"before-remove":q,multiple:"",limit:5,"on-exceed":U,"file-list":o.files},{tip:a(()=>l[15]||(l[15]=[b("div",{class:"el-upload__tip"}," 支持 PDF、JPG、PNG 格式，单个文件不超过 10MB ",-1)])),default:a(()=>[e(g,{type:"primary"},{default:a(()=>l[14]||(l[14]=[_("上传资质文件")])),_:1,__:[14]})]),_:1},8,["file-list"])]),_:1}),e(r,null,{default:a(()=>[e(g,{type:"primary",onClick:x},{default:a(()=>l[16]||(l[16]=[_("提交")])),_:1,__:[16]}),e(g,{onClick:w},{default:a(()=>l[17]||(l[17]=[_("重置")])),_:1,__:[17]})]),_:1})]),_:1},8,["model"])]),_:1})])}}},L=B(G,[["__scopeId","data-v-6dbfb562"]]);export{L as default};
